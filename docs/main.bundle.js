(()=>{"use strict";const t={"taz-tiles":{type:"vector",url:"https://www.tiles.dvrpc.org/data/taz-2010.json",minzoom:8},"rr-lines-src":{type:"geojson",data:"https://opendata.arcgis.com/datasets/48b0b600abaa4ca1a1bacf917a31c29a_0.geojson"},"rr-stops-src":{type:"geojson",data:"https://opendata.arcgis.com/datasets/64eaa4539cf4429095c2c7bf25c629a2_0.geojson"}};mapboxgl.accessToken="pk.eyJ1IjoiYWFyb25kdnJwYyIsImEiOiJja2NvN2s5dnAwaWR2MnptbzFwYmd2czVvIn0.Fcc34gzGME_zHR5q4RnSOg";const e={"taz-fill":{id:"taz-fill",type:"fill",source:"taz-tiles","source-layer":"TAZ_2010",layout:{},paint:{"fill-opacity":0,"fill-color":"black"}},"taz-outline":{id:"taz-outline",type:"line",source:"taz-tiles","source-layer":"TAZ_2010",layout:{},paint:{"line-width":.8,"line-opacity":.2,"line-color":"black"}},"selected-taz":{id:"selected-taz",type:"fill",source:"taz-tiles","source-layer":"TAZ_2010",layout:{},paint:{"fill-opacity":.2,"fill-color":"yellow"},filter:["==","tazt","-1"]},"rr-lines":{id:"rr-lines",type:"line",source:"rr-lines-src",layout:{},paint:{"line-width":4,"line-opacity":.4,"line-color":"blue"}},"rr-stops":{id:"rr-stops",type:"circle",source:"rr-stops-src",layout:{},paint:{"circle-radius":6,"circle-opacity":.7,"circle-color":"red"}}};let s=[];const o=document.getElementById("button-to-select-tazs"),l=document.getElementById("button-to-clear-tazs"),a=document.getElementById("button-to-analyze-tazs"),c=()=>{o.classList.remove("selected-button"),l.style.setProperty("display","none"),a.style.setProperty("display","none")},i=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v10",center:[-75.16362,39.95238],zoom:9.5});i.on("load",(function(){for(const e in t)i.addSource(e,t[e]);for(const t in e)i.addLayer(e[t]);(t=>{["taz-fill"].forEach((e=>((t,e)=>{t.on("mouseenter",e,(()=>t.getCanvas().style.cursor="pointer")),t.on("mouseleave",e,(function(e){t.getCanvas().style.cursor=""}))})(t,e)))})(i),(t=>{o.onclick=()=>{o.classList.contains("selected-button")?c():(o.classList.add("selected-button"),l.style.setProperty("display","inline"),a.style.setProperty("display","inline"))},l.onclick=()=>{s=[],t.setFilter("selected-taz",["in","tazt","-1"]),c()},t.on("click","taz-fill",(function(e){if(o.classList.contains("selected-button")){let o=e.features[0].properties;s.push(o.tazt),t.setFilter("selected-taz",["in","tazt",...s])}}))})(i)}))})();